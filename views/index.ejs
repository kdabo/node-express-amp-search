<!doctype html>
<html amp lang="en">
<head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <title>AMP</title>
    <link rel="canonical" href="http://localhost:3000/"/>
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>

    <script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>
    <script async custom-element="amp-bind" src="https://cdn.ampproject.org/v0/amp-bind-0.1.js"></script>
    <script async custom-template="amp-mustache" src="https://cdn.ampproject.org/v0/amp-mustache-0.1.js"></script>
    <script async custom-element="amp-selector" src="https://cdn.ampproject.org/v0/amp-selector-0.1.js"></script>


    <style amp-custom>

        .search-container {
            display: flex;
            flex-flow: row nowrap;
        }

        .search-box, .search-submit, .select-option {
            font-size: 1.25em;
        }

        .autosuggest-box {
            box-shadow: 0px 2px 6px rgba(0, 0, 0, .3);
        }

        .search-box {
            flex: 4 0 0;
            padding: 5px;
            border-radius: 4px 0 0 4px;
            border: 2px solid lightgray;
            border-right: 0;
        }

        .search-submit {
            flex: 1 0 0;
            padding: 5px;
            border-radius: 0 4px 4px 0;
            border: 2px solid #4b68ff;
            background: #4b68ff;
            color: #fff;
        }

        .select-option {
            display: block;
            box-sizing: border-box;
            height: 30px;
            line-height: 30px;
            padding-left: 10px;
            background: #ddd;
        }

        amp-selector .select-option.no-outline.no-outline[option] {
            outline: none;
        }

        .select-option:focus {
            box-shadow: inset rgb(94, 158, 215) 0px 0px 45px;
        }

        .select-option:focus {
            background: #fff;
        }

        .select-option:nth-child(2n) {
            background: #eee;
        }

    </style>

</head>
<body>
<div class="header">
    <h1>AMP</h1>
</div>

<section>
    <div>
        <amp-img src="../../assets/architectural-design-architecture-building-443383.jpg" width="300" height="100"
                 layout="responsive"/>
    </div>
    <div>
        <header>
            <h1>Amsterdam Business Database A - Z</h1>
            <h2>Find and call any business in Amsterdam.</h2>
        </header>

        <form method="post"
              action-xhr="/ypSearchResult"
              id="search-form"
              on="submit-success:results.show"
              autocomplete="off">
            <div class="search-container">
                <input id="what"
                       name="what"
                       type="text"
                       class="search-box"
                       on="input-debounced:AMP.setState({ what: event.value }), results.hide"
                       [value]="what || ''"
                />
                <button class="search-submit" type="submit">Search</button>
            </div>
            <amp-list
                    layout="fixed-height"
                    height="120"
                    src="/ypSearchResult"
                    [src]="'/ypSearchResult/what?q='"

            >
            </amp-list>
            <div submit-success id="results">
                <template type="amp-mustache">
                    <p>Here are the results for the search "{{resultHeader}}":</p>
                    <ol>
                        {{#results}}
                        <li> {{name}} {{address.street}} {{avgRating}}</li>
                        {{/results}}
                    </ol>
                </template>
            </div>
        </form>

        <!--<form id="myform"-->
        <!--method="post"-->
        <!--action-xhr="/ypSearchResult"-->
        <!--target="_top">-->
        <!--<div>-->
        <!--<input type="text"-->
        <!--name="what"-->
        <!--id="what"-->
        <!--placeholder="company...">-->
        <!--</div>-->
        <!--<div>-->
        <!--<input type="submit"-->
        <!--value="Search">-->
        <!--</div>-->
        <!--<div submit-success>-->
        <!--<template type="amp-mustache" id="submit_success_template">-->
        <!--<p>Success! Thanks for subscribing! {{{resultHeader}}} </p>-->
        <!--</template>-->
        <!--</div>-->
        <!--<div submit-error>-->
        <!--<template type="amp-mustache">-->
        <!--Oops!-->
        <!--</template>-->
        <!--</div>-->
        <!--</form>-->
    </div>
</section>
</body>
</html>